
![image](https://github.com/user-attachments/assets/46672e3e-be7f-4c5c-9628-18c83069888c)


أكيد سمعت عن حاجة اسمها Guard

 دول باختصار زي "حراس الأمان" اللي بيساعدوا على تنظيم الدخول والخروج من صفحات التطبيق، وبيضمنوا إن المستخدم بيشوف اللي المفروض يشوفه بس، لا أكتر ولا أقل.
 
 الـ Guards: ؟
 
بص، الفكرة الأساسية من الـ **Guards** هي إنك بتعمل **Control Layer** أو طبقة تحكم في الدخول والخروج من أجزاء التطبيق. خليني أقولك إن التطبيقات المعقدة اللي بتتعامل مع بيانات حساسة لازم يبقى فيها نوع من أنواع الأمان المتقدم اللي يمنع المستخدمين من الوصول لحاجات مش من حقهم، وده بالضبط دور الـ **Guards**.

لما بنتكلم عن تطبيق قوي ومعقد، بنتكلم عن إن التطبيق ده بيبقى فيه مستخدمين بأنواع وصلاحيات مختلفة. مثلاً، واحد يكون **Admin**، والتاني مجرد **User** عادي. عشان تضمن إن كل واحد يروح للجزء اللي يخصه من غير لخبطة، لازم يكون عندك حراس، والـ Guards هنا بتعمل الدور ده بالضبط.

اي هم؟

 1. **CanActivate Guard**: الحماية من البداية
    
- **الفكرة**: الـ `CanActivate` بيشتغل قبل ما المستخدم يدخل الصفحة. يعني هو أول طبقة من طبقات الحماية، وزي ما تقول "البواب بتاع العمارة". البواب ده، أو الـ Guard، بيقرر هل يدخل الشخص أو لا.
  
- **إمتى تستخدمه؟** لو عندك صفحة محددة بتخدم فقط فئة معينة من المستخدمين، زي صفحة **Admin Panel**. هنا لازم تتأكد إن اللي داخل فعلاً Admin وعنده الصلاحيات
  
- **القيمة المضافة**: الـ `CanActivate` بيدي التطبيق ميزة كبيرة في التحكم في تجربة المستخدم بشكل استباقي، بحيث مش بس تمنع الوصول، كمان توجهه لمكان مناسب زي صفحة تسجيل الدخول.
  
2. **CanActivateChild Guard**:
   
- **الفكرة**: لو عندك صفحة رئيسية فيها **Routes فرعية**، والـ Routes الفرعية دي محتاجة حماية بشكل مخصوص. يعني هنا مش بس عايز تتأكد إن المستخدم يقدر يدخل، كمان عايز تحكم مين يقدر يروح للجزء الفرعي جوة الصفحة.
  
- **سيناريو**: لو عندك **Dashboard** فيه أكتر من تبويب زي **Reports** و**Analytics**، وعاوز تتأكد إن اللي يفتح التبويبات دي يكون عنده الصلاحيات الخاصة بكل تبويب.
  
 3. **CanDeactivate Guard**: ا
    
- **الفكرة**: الـ `CanDeactivate` بيشتغل لما المستخدم يقرر يسيب الصفحة. دايماً عندك السيناريو بتاع إن المستخدم يملأ فورمة، وفجأة يقرر يسيب الصفحة من غير ما يحفظ. هنا بيجي دور الـ Guard ده، اللي يسأله: "متأكد يا معلم؟ انت كده هتخسر البيانات اللي مليتها".
  
- **القيمة الحقيقية**: الـ `CanDeactivate` بيحسن تجربة المستخدم، وبيحافظ على البيانات المهمة، وده بيديك شعور بالأمان وكمان بيدي المستخدم فرصة للتراجع.
  
 4. **Resolve Guard**:
    
- **الفكرة**: دايماً لما بتفتح صفحة، بتبقى عايز كل البيانات جاهزة قدامك عشان التجربة تبقى سلسة. هنا بيجي دور الـ `Resolve`، اللي بيسحب البيانات المطلوبة قبل ما المستخدم يشوف الصفحة.
  
- **المثال الواقعي**: لو عندك صفحة بروفايل، وعايز تتأكد إن كل البيانات جاهزة (الاسم، الصورة، المعلومات الشخصية) قبل ما الصفحة تظهر. الـ `Resolve` بيوفر وقت التحميل ويضمن إن المستخدم يلاقي كل حاجة جاهزة.
  
 5. **CanLoad Guard**:
    
- **الفكرة**: تخيل عندك موديول حجمه كبير جدا وبيستهلك موارد كتير. لو المستخدم مش عنده الصلاحية، ليه أصلاً تضيّع الوقت وتحمّل الموديول ده؟ ده بيدخلنا على الـ `CanLoad`
  
- **المثال الواقعي**: لو عندك جزء في التطبيق مش مسموح لأي مستخدم يشوفه غير بعد تسجيل الدخول، وده جزء ضخم فيه موارد كتير، مش عايز تحمله لأي حد من غير لزمة. `CanLoad` هنا بيمنع التحميل من البداية ويوفر في الأداء.



  
